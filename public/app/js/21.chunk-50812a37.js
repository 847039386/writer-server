webpackJsonp([21],{495:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=(n.n(r),n(169)),a=n.n(o),i=n(170),s=(n.n(i),n(167)),u=n.n(s),c=n(168),l=(n.n(c),n(100)),p=n(106),h=n(605),f=n(41),d=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),v=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},m=function(e){function t(t){var n=e.call(this,t)||this;return n.state={topic:new p.e},n}return d(t,e),t.prototype.componentWillMount=function(){var e=this;l.h.findById(this.props.match.params.id).then(function(t){var n=t.success,r=t.data;r&&n&&e.setState({topic:r})})},t.prototype.render=function(){return r.createElement(u.a,null,r.createElement(a.a,{md:24,className:"details_juben theme_Dborder"},r.createElement(a.a,{span:24},r.createElement("h1",{className:"theme_DTitle title"},this.state.topic.title)),r.createElement(a.a,{className:"introduce theme_DBox",span:24},r.createElement(a.a,{span:24},r.createElement("p",null,"创建于：",this.state.topic.create_at))),r.createElement(a.a,{className:"content",span:24},r.createElement(h.a,{onlyMD:!0,value:this.state.topic.content}))))},t}(r.Component),y=function(e){return v({},e)};t.default=Object(f.b)(y)(m)},597:function(e,t,n){"use strict";var r=n(0),o=(n.n(r),this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}()),a=function(e){function t(t){var n=e.call(this,t)||this;return n.state={mod:null},n}return o(t,e),t.prototype.componentWillMount=function(){this.load(this.props)},t.prototype.componentWillReceiveProps=function(e){e.load!==this.props.load&&this.load(e)},t.prototype.load=function(e){var t=this;this.setState({mod:null}),e.load().then(function(e){t.setState({mod:e.default?e.default:e})})},t.prototype.render=function(){var e;return this.state.mod&&this.props.children?(e=this.props.children,e=e(this.state.mod)):e=null,e},t}(r.Component);t.a=a},605:function(e,t,n){"use strict";var r=n(0),o=(n.n(r),n(161)),a=n.n(o),i=n(160),s=(n.n(i),n(167)),u=n.n(s),c=n(168),l=(n.n(c),n(169)),p=n.n(l),h=n(170),f=(n.n(h),n(597)),d=n(610),v=(n.n(d),n(606)),m=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),y=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},g=a.a.TextArea,_=function(e){return r.createElement(f.a,{load:function(){return n.e(25).then(n.bind(null,669))}},function(t){return r.createElement(t,y({},e))})},k=function(e){function t(t){var n=e.call(this,t)||this;n.getMarkdown=function(e){void 0===e&&(e="");var t=new v.a(e);return t.addRule(n.props.rule||[]).setOption({trim:!0,br:!0}),t.getContent()},n.pastingText=function(e){var t=e.target.value,r=t;n.props.rule&&(r=n.getMarkdown(t)),n.setState({value:t,markdownCode:r}),n.props.onChange&&n.props.onChange(t,r)};var r=t.value,o=t.onlyMD;return n.state=r?o?{value:r,markdownCode:r}:{value:r,markdownCode:n.getMarkdown(r)}:{value:"",markdownCode:""},n.pastingText=n.pastingText.bind(n),n}return m(t,e),t.prototype.componentWillReceiveProps=function(e){var t=e.value;t?this.setState({value:t,markdownCode:this.getMarkdown(t)}):this.setState({value:"",markdownCode:""})},t.prototype.render=function(){return r.createElement("div",null,this.props.onlyMD?r.createElement("div",{className:"seiri_md bm-markdown"},r.createElement(_,{source:this.state.markdownCode})):r.createElement(u.a,{gutter:16,style:{margin:"5px 0"}},r.createElement(p.a,{span:12},r.createElement(g,{style:{border:"none",height:this.props.height||"50vh",resize:"none"},onChange:this.pastingText,value:this.state.value,placeholder:"请粘贴",autosize:!1})),r.createElement(p.a,{className:"seiri_md bm-markdown",span:12,style:{height:this.props.height||"50vh",overflowY:"scroll"}},r.createElement(_,{source:this.state.markdownCode}))))},t}(r.Component);t.a=k},606:function(e,t,n){"use strict";var r=function(){function e(e){var t=this;this.setLineByExp=function(e,t,n){if(t instanceof RegExp){return n(t.test(e),e)}return e},this.LinesMap=function(e,t){var n=/^.*$/gm,r=e.match(n);return(r?r.filter(function(e){return""!=e}):[]).map(t)},this.getNewLineByRule=function(e){var n={value:e,revise:!1};return t.rules.length>0&&t.rules.forEach(function(e,r){e&&e.regexp&&e.value&&(n=t.disposeContent(e,n))}),n.value},this.disposeContent=function(e,n){var r={revise:n.revise,value:n.value};return n.revise?r:t.setLineByExp(n.value,e.regexp,function(n,o){var a=o;return n&&(a=t.ruleInValue().handle(o,e),t.ruleInKey().handle(e,o)),n?{revise:!0,value:a}:r})},this.ruleInValue=function(){return{handle:function(e,t){var n=e;return t.line?(t.left=t.left||"",t.right=t.right||"",n=e.replace(t.regexp,function(e){return t.value.replace(/\$\{key\}/g,e)}),n=t.left+n+t.right):n=t.value.replace("${key}",e),n}}},this.ruleInKey=function(){return{handle:function(e,n){var r=e.key||{name:""};r&&r.name&&r.result&&t.keys.forEach(function(t,a){if(t.name==r.name){var i=e.regexp.exec(n)||[""],s=r.exec?r.exec:0,u=i[s]||i[0];t.values=o(t.values.concat(u)),t.result=r.result||""}})},init:function(){var e=[];t.rules.forEach(function(t){if(t.key&&t.key.name&&t.key.result){var n={name:t.key.name,values:[],result:t.key.result};e.push(n)}}),t.keys=e},end:function(e){return t.keys.forEach(function(t){t.result&&t.values.forEach(function(n){var r=RegExp(n,"g"),o=e.replace(r,t.result);e=o.replace(/\$\{key\}/g,n)})}),e}}},this.ruleRuleTYPE=function(){var e=[];switch(t.options.type){case"episodes":e=[{regexp:/^第\d+集$/,value:"# ${key}"},{regexp:/^\d+[-]\d+[,.:].{0,10}$/,value:"  \n---  \n## ${key}"},{regexp:/^(场景|人物|时间)[-:,.：]/,value:"`${key}`"}],t.addRule(e);break;case"biography":e=[{regexp:/^(.{1,5})([\(\[【（].{0,10}[\)）】\]])?[.:：]$/,value:"# ${key}",key:{name:"renwu",exec:1,result:"`${key}`"}}],t.addRule(e)}},this.init=function(){t.ruleRuleTYPE(),t.ruleInKey().init()},this.trim=function(e,t){var n=e;switch(t){case"right":n=e.replace(/(\s*$)/g,"");break;case"left":n=e.replace(/(^\s*)/g,"");break;default:n=e.replace(/(^\s*)|(\s*$)/g,"")}return n},this.setOption=function(e){return t.options=Object.assign(t.options,e),t},this.getLines=function(){return null==t.content||""==t.content||"string"!=typeof t.content?[]:(t.init(),t.LinesMap(t.content,function(e){var n=e;return t.options.trim&&(n=t.trim(e)),t.getNewLineByRule(n)}))},this.getContent=function(){var e=t.getLines(),n=t.options.br?e.join("  \n"):e.join();return t.keys.length>0?t.ruleInKey().end(n):n},this.content=e,this.options={},this.rules=[],this.keys=[]}return e.prototype.addRule=function(e){return e instanceof Array?this.rules=this.rules.concat(e):e instanceof Object&&this.rules.push(e),this},e}();t.a=r;var o=function(e){for(var t={},n=e.length,r=[],o=0;o<n;o++)t[e[o]]||(t[e[o]]=!0,r.push(e[o]));return r}},610:function(e,t,n){var r=n(611);"string"==typeof r&&(r=[[e.i,r,""]]);var o={};o.transform=void 0;n(12)(r,o);r.locals&&(e.exports=r.locals)},611:function(e,t,n){t=e.exports=n(11)(void 0),t.push([e.i,".seiri_md {\n  overflow-y: 'scroll';\n  word-wrap: break-word;\n}\n",""])}});